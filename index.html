<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM ä½¿ç”¨è°ƒç ” - ç‚«é…·æŠ•ç¥¨</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <style>
        /* æ¸å˜èƒŒæ™¯åŠ¨ç”» */
        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        body {
            background: linear-gradient(-45deg, #1e1b4b, #581c87, #1e3a8a, #0f172a);
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
        }
        
        /* è„‰å†²å…‰æ™• */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8); }
        }
        
        /* æ»‘å…¥åŠ¨ç”» */
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* æµ®åŠ¨åŠ¨ç”» */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* é£è¡Œç²’å­åŠ¨ç”» - æŠ›ç‰©çº¿è½¨è¿¹ */
        @keyframes fly-to-target {
            0% {
                transform: translate(0, 0) scale(1) rotate(0deg);
                opacity: 1;
            }
            30% {
                transform: translate(var(--tx-mid), var(--ty-mid)) scale(1.2) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0.3) rotate(360deg);
                opacity: 0;
            }
        }
        
        .fly-particle {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
            font-size: 2.5rem;
            animation: fly-to-target 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            filter: drop-shadow(0 0 10px currentColor);
        }
        
        /* çˆ†ç‚¸ç²’å­ */
        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--ex), var(--ey)) scale(0);
                opacity: 0;
            }
        }
        
        .explode-particle {
            position: fixed;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 999;
            animation: explode 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            box-shadow: 0 0 10px currentColor;
        }
        
        /* æ³¢çº¹æ•ˆæœ */
        @keyframes ripple {
            0% {
                transform: scale(0);
                opacity: 0.6;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            animation: ripple 0.8s cubic-bezier(0, 0, 0.2, 1);
            pointer-events: none;
        }
        
        /* å¡ç‰‡æ‚¬åœ */
        .vote-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .vote-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
        }
        
        .vote-card:hover::before {
            left: 100%;
        }
        
        .vote-card:hover {
            transform: translateY(-12px) scale(1.03);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }
        
        /* æ’åå˜åŒ–åŠ¨ç”» */
        .rank-item {
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* æ•°å­—æ»šåŠ¨ */
        @keyframes count-up {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .count-up {
            animation: count-up 0.5s ease-out;
        }
        
        /* è¿›åº¦æ¡å¡«å……åŠ¨ç”» */
        .progress-bar {
            transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* äºŒç»´ç æ˜¾ç¤ºåŠ¨ç”» */
        @keyframes qr-appear {
            from {
                transform: scale(0.8) rotateY(90deg);
                opacity: 0;
            }
            to {
                transform: scale(1) rotateY(0deg);
                opacity: 1;
            }
        }
        
        .qr-appear {
            animation: qr-appear 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* æ’åå¾½ç«  */
        .rank-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }
        
        .rank-badge-silver {
            background: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 100%);
            box-shadow: 0 0 20px rgba(156, 163, 175, 0.5);
        }
        
        .rank-badge-bronze {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // âš ï¸ é‡è¦ï¼šæ›¿æ¢ä¸ºä½ çš„ Firebase é…ç½®
        const firebaseConfig = {
			apiKey: "AIzaSyCQ0FB8xpIUFl9MK_qmj--t-ZcjqYre0S8",
			authDomain: "llm-study-59bad.firebaseapp.com",
			databaseURL: "https://llm-study-59bad-default-rtdb.asia-southeast1.firebasedatabase.app/",
			projectId: "llm-study-59bad",
			storageBucket: "llm-study-59bad.firebasestorage.app",
			messagingSenderId: "709963669616",
			appId: "1:709963669616:web:5feb2c183e0a3057df14b5"
        };

        const isFirebaseConfigured = !firebaseConfig.apiKey.includes('YOUR_');

        const LLM_TOOLS = [
            'è±†åŒ…', 'Kimi', 'DeepSeek', 'é€šä¹‰åƒé—®', 'æ–‡å¿ƒä¸€è¨€',
            'ChatGPT', 'Claude', 'Gemini',
            'Copilot', 'Perplexity', 'æ™ºè°±æ¸…è¨€', 'è®¯é£æ˜Ÿç«',
        ];

        const VOTE_TYPES = {
            frequent: { 
                label: 'å¸¸ç”¨', 
                color: '#3b82f6',
                bgColor: 'bg-blue-500',
                hoverColor: 'hover:bg-blue-600',
                textColor: 'text-blue-400',
                lightColor: 'bg-blue-900/30',
                icon: 'â­',
                multiple: true,
            },
            good: { 
                label: 'æœ€å¥½ç”¨', 
                color: '#22c55e',
                bgColor: 'bg-green-500',
                hoverColor: 'hover:bg-green-600',
                textColor: 'text-green-400',
                lightColor: 'bg-green-900/30',
                icon: 'ğŸ‘',
                multiple: false,
            },
            bad: { 
                label: 'æœ€ä¸å¥½ç”¨', 
                color: '#ef4444',
                bgColor: 'bg-red-500',
                hoverColor: 'hover:bg-red-600',
                textColor: 'text-red-400',
                lightColor: 'bg-red-900/30',
                icon: 'ğŸ‘',
                multiple: false,
            }
        };

        function LLMVotingApp() {
            const urlParams = new URLSearchParams(window.location.search);
            const urlMode = urlParams.get('mode');
            const initialMode = urlMode || 'display';
            
            const [mode, setMode] = useState(initialMode);
            const [votes, setVotes] = useState({});
            const [myVotes, setMyVotes] = useState({ 
                frequent: [],
                good: null,
                bad: null
            });
            const [loading, setLoading] = useState(true);
            const [showQR, setShowQR] = useState(false);
            const [firebaseInitialized, setFirebaseInitialized] = useState(false);
            const qrRef = useRef(null);
            const dbRef = useRef(null);
            const statsRefs = useRef({});

            const baseUrl = window.location.origin + window.location.pathname;
            const voteUrl = baseUrl + '?mode=vote';

            // åˆå§‹åŒ– Firebase
            useEffect(() => {
                if (!isFirebaseConfigured) {
                    setLoading(false);
                    return;
                }

                try {
                    if (!firebase.apps.length) {
                        firebase.initializeApp(firebaseConfig);
                    }
                    dbRef.current = firebase.database().ref('votes');
                    setFirebaseInitialized(true);

                    dbRef.current.on('value', (snapshot) => {
                        const data = snapshot.val() || {};
                        setVotes(data);
                        setLoading(false);
                    });

                    return () => {
                        if (dbRef.current) {
                            dbRef.current.off();
                        }
                    };
                } catch (error) {
                    console.error('Firebase åˆå§‹åŒ–å¤±è´¥:', error);
                    setLoading(false);
                }
            }, []);

            // ç”ŸæˆäºŒç»´ç 
            useEffect(() => {
                if (showQR && qrRef.current) {
                    qrRef.current.innerHTML = '';
                    new QRCode(qrRef.current, {
                        text: voteUrl,
                        width: 256,
                        height: 256,
                        colorDark: '#000000',
                        colorLight: '#ffffff',
                    });
                }
            }, [showQR, voteUrl]);

            // åˆ›å»ºé£è¡Œç²’å­
            function createFlyingParticle(sourceElement, targetElement, voteType) {
                const sourceRect = sourceElement.getBoundingClientRect();
                const targetRect = targetElement.getBoundingClientRect();
                
                const particle = document.createElement('div');
                particle.className = 'fly-particle';
                particle.textContent = VOTE_TYPES[voteType].icon;
                particle.style.color = VOTE_TYPES[voteType].color;
                particle.style.left = sourceRect.left + sourceRect.width / 2 - 20 + 'px';
                particle.style.top = sourceRect.top + sourceRect.height / 2 - 20 + 'px';
                
                const tx = targetRect.left + targetRect.width / 2 - sourceRect.left - sourceRect.width / 2;
                const ty = targetRect.top + targetRect.height / 2 - sourceRect.top - sourceRect.height / 2;
                
                // ä¸­é—´ç‚¹ï¼ˆæŠ›ç‰©çº¿æ•ˆæœï¼‰
                const txMid = tx * 0.5;
                const tyMid = ty * 0.5 - 100; // å‘ä¸Šçš„å¼§çº¿
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                particle.style.setProperty('--tx-mid', txMid + 'px');
                particle.style.setProperty('--ty-mid', tyMid + 'px');
                
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    createExplosion(
                        targetRect.left + targetRect.width / 2,
                        targetRect.top + targetRect.height / 2,
                        VOTE_TYPES[voteType].color
                    );
                    particle.remove();
                }, 1200);
            }

            // åˆ›å»ºçˆ†ç‚¸æ•ˆæœ
            function createExplosion(x, y, color) {
                const particleCount = 16;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'explode-particle';
                    particle.style.backgroundColor = color;
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    
                    const angle = (Math.PI * 2 * i) / particleCount;
                    const velocity = 80 + Math.random() * 60;
                    const ex = Math.cos(angle) * velocity;
                    const ey = Math.sin(angle) * velocity;
                    
                    particle.style.setProperty('--ex', ex + 'px');
                    particle.style.setProperty('--ey', ey + 'px');
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 1000);
                }
            }

            // åˆ›å»ºæ³¢çº¹
            function createRipple(e) {
                const button = e.currentTarget;
                const rect = button.getBoundingClientRect();
                const ripple = document.createElement('div');
                ripple.className = 'ripple';
                const size = Math.max(rect.width, rect.height) * 2;
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = e.clientX - rect.left - size / 2 + 'px';
                ripple.style.top = e.clientY - rect.top - size / 2 + 'px';
                button.style.position = 'relative';
                button.appendChild(ripple);
                setTimeout(() => ripple.remove(), 800);
            }

            async function saveVotes(newVotes) {
                if (!firebaseInitialized) {
                    alert('Firebase æœªé…ç½®');
                    return;
                }
                try {
                    await dbRef.current.set(newVotes);
                } catch (error) {
                    console.error('ä¿å­˜å¤±è´¥:', error);
                    alert('ä¿å­˜å¤±è´¥');
                }
            }

            function handleVote(tool, voteType, event) {
                const voteConfig = VOTE_TYPES[voteType];
                
                createRipple(event);
                
                if (voteConfig.multiple) {
                    const currentVotes = [...myVotes.frequent];
                    const index = currentVotes.indexOf(tool);
                    
                    if (index > -1) {
                        currentVotes.splice(index, 1);
                        setMyVotes({ ...myVotes, frequent: currentVotes });
                        
                        const newVotes = { ...votes };
                        if (newVotes[tool] && newVotes[tool].frequent > 0) {
                            newVotes[tool].frequent--;
                        }
                        saveVotes(newVotes);
                    } else {
                        // é£è¡ŒåŠ¨ç”»
                        const targetRef = statsRefs.current[`${tool}-${voteType}`];
                        if (targetRef) {
                            createFlyingParticle(event.currentTarget, targetRef, voteType);
                        }
                        
                        currentVotes.push(tool);
                        setMyVotes({ ...myVotes, frequent: currentVotes });
                        
                        const newVotes = { ...votes };
                        if (!newVotes[tool]) {
                            newVotes[tool] = { frequent: 0, good: 0, bad: 0 };
                        }
                        newVotes[tool].frequent++;
                        saveVotes(newVotes);
                    }
                } else {
                    if (myVotes[voteType]) {
                        alert(`ä½ å·²ç»æŠ•è¿‡"${voteConfig.label}"ç¥¨äº†ï¼`);
                        return;
                    }

                    // é£è¡ŒåŠ¨ç”»
                    const targetRef = statsRefs.current[`${tool}-${voteType}`];
                    if (targetRef) {
                        createFlyingParticle(event.currentTarget, targetRef, voteType);
                    }

                    const newVotes = { ...votes };
                    if (!newVotes[tool]) {
                        newVotes[tool] = { frequent: 0, good: 0, bad: 0 };
                    }
                    newVotes[tool][voteType]++;
                    setMyVotes({ ...myVotes, [voteType]: tool });
                    saveVotes(newVotes);
                }
            }

            async function resetVotes() {
                if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰æŠ•ç¥¨å—ï¼Ÿ')) {
                    await saveVotes({});
                    setMyVotes({ frequent: [], good: null, bad: null });
                }
            }

            function getToolStats(tool) {
                const toolVotes = votes[tool] || { frequent: 0, good: 0, bad: 0 };
                return {
                    frequent: toolVotes.frequent || 0,
                    good: toolVotes.good || 0,
                    bad: toolVotes.bad || 0,
                    total: (toolVotes.frequent || 0) + (toolVotes.good || 0) + (toolVotes.bad || 0)
                };
            }

            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('å·²å¤åˆ¶ï¼');
                }).catch(() => {
                    prompt('è¯·æ‰‹åŠ¨å¤åˆ¶ï¼š', text);
                });
            }

            // å®æ—¶æ’åºï¼ˆä½¿ç”¨ useMemo ä¼˜åŒ–æ€§èƒ½ï¼‰
            const sortedTools = useMemo(() => {
                return [...LLM_TOOLS].sort((a, b) => {
                    const statsA = getToolStats(a);
                    const statsB = getToolStats(b);
                    // å…ˆæŒ‰æ€»ç¥¨æ•°ï¼Œå†æŒ‰å¸¸ç”¨ç¥¨æ•°
                    if (statsB.total !== statsA.total) {
                        return statsB.total - statsA.total;
                    }
                    return statsB.frequent - statsA.frequent;
                });
            }, [votes]);

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-6xl animate-pulse">ğŸ¤–</div>
                    </div>
                );
            }

            if (!isFirebaseConfigured) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-8">
                        <div className="max-w-2xl bg-gradient-to-br from-red-900/50 to-red-800/50 border-2 border-red-500 rounded-3xl p-8 text-white backdrop-blur-lg">
                            <h2 className="text-4xl font-bold mb-4">âš ï¸ Firebase æœªé…ç½®</h2>
                            <p className="mb-4">è¯·æŒ‰ç…§"Firebaseè¶…è¯¦ç»†é…ç½®.md"é…ç½® Firebaseã€‚</p>
                            <p className="text-sm text-red-200">ä¿®æ”¹ç¬¬ 178-186 è¡Œçš„ firebaseConfig</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="text-center mb-8" style={{animation: 'slideUp 0.6s ease-out'}}>
                            <h1 className="text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 mb-4" style={{animation: 'float 3s ease-in-out infinite'}}>
                                ğŸ¤– LLM ä½¿ç”¨è°ƒç ”
                            </h1>
                            <p className="text-2xl text-gray-300 mb-6 font-light">å¸¸ç”¨æ¦œ Â· çº¢é»‘æ¦œ Â· å®æ—¶æŠ•ç¥¨</p>
                            
                            {mode === 'display' && (
                                <div className="bg-gradient-to-r from-blue-900/50 to-blue-800/50 border-2 border-blue-400 rounded-2xl p-4 mb-6 text-blue-200 inline-block backdrop-blur-lg" style={{animation: 'pulse-glow 2s ease-in-out infinite'}}>
                                    ğŸ“Š <strong>å¤§å±å±•ç¤ºæ¨¡å¼</strong> - å®æ—¶æ’å Â· å¹³æ»‘åŠ¨ç”»
                                </div>
                            )}
                            
                            {mode === 'vote' && (
                                <div className="bg-gradient-to-r from-green-900/50 to-green-800/50 border-2 border-green-400 rounded-2xl p-4 mb-6 text-green-200 inline-block backdrop-blur-lg">
                                    ğŸ—³ï¸ <strong>æŠ•ç¥¨æ¨¡å¼</strong> - ç‚¹å‡»æŠ•ç¥¨çœ‹é£è¡ŒåŠ¨ç”»
                                </div>
                            )}
                            
                            {/* æ§åˆ¶æŒ‰é’® */}
                            {mode === 'display' && (
                                <div className="flex gap-4 justify-center mb-6 flex-wrap">
                                    <button
                                        onClick={() => setShowQR(!showQR)}
                                        className="px-8 py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-purple-600 to-purple-700 text-white shadow-lg hover:shadow-purple-500/50 transition-all transform hover:scale-105 active:scale-95"
                                    >
                                        ğŸ“± {showQR ? 'éšè—' : 'æ˜¾ç¤º'}äºŒç»´ç 
                                    </button>
                                    <button
                                        onClick={() => copyToClipboard(voteUrl)}
                                        className="px-8 py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg hover:shadow-blue-500/50 transition-all transform hover:scale-105 active:scale-95"
                                    >
                                        ğŸ“‹ å¤åˆ¶é“¾æ¥
                                    </button>
                                    <button
                                        onClick={resetVotes}
                                        className="px-8 py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg hover:shadow-red-500/50 transition-all transform hover:scale-105 active:scale-95"
                                    >
                                        ğŸ”„ é‡ç½®æŠ•ç¥¨
                                    </button>
                                </div>
                            )}

                            {mode === 'vote' && (
                                <div className="mb-6">
                                    <button
                                        onClick={() => window.location.href = baseUrl}
                                        className="px-8 py-4 rounded-xl font-bold text-lg bg-gradient-to-r from-gray-600 to-gray-700 text-white shadow-lg hover:shadow-gray-500/50 transition-all transform hover:scale-105 active:scale-95"
                                    >
                                        ğŸ“Š è¿”å›å¤§å±
                                    </button>
                                </div>
                            )}

                            {/* äºŒç»´ç  */}
                            {showQR && mode === 'display' && (
                                <div className="inline-block bg-white p-8 rounded-3xl shadow-2xl mb-6 qr-appear">
                                    <div ref={qrRef} className="mb-4"></div>
                                    <p className="text-gray-800 font-bold text-lg">æ‰«ç å‚ä¸æŠ•ç¥¨</p>
                                    <p className="text-gray-600 text-sm mt-2 break-all max-w-xs">{voteUrl}</p>
                                </div>
                            )}

                            {/* æŠ•ç¥¨è¯´æ˜ */}
                            <div className="bg-gradient-to-r from-gray-800/50 to-gray-700/50 backdrop-blur-lg rounded-2xl p-5 inline-block border border-gray-600">
                                <p className="text-gray-200 text-base font-medium">
                                    <span className="text-blue-400 mx-3">â­ å¸¸ç”¨ï¼ˆå¯å¤šé€‰ï¼‰</span>
                                    <span className="text-green-400 mx-3">ğŸ‘ æœ€å¥½ç”¨ï¼ˆ1ç¥¨ï¼‰</span>
                                    <span className="text-red-400 mx-3">ğŸ‘ æœ€ä¸å¥½ç”¨ï¼ˆ1ç¥¨ï¼‰</span>
                                </p>
                            </div>
                        </div>

                        {/* å¤§å±å±•ç¤ºæ¨¡å¼ - å®æ—¶æ’å */}
                        {mode === 'display' && (
                            <div className="space-y-4">
                                {sortedTools.map((tool, index) => {
                                    const stats = getToolStats(tool);
                                    const maxVotes = Math.max(...sortedTools.map(t => getToolStats(t).total)) || 1;
                                    
                                    // æ’åå¾½ç« 
                                    let badgeClass = '';
                                    let badgeText = '';
                                    if (index === 0 && stats.total > 0) {
                                        badgeClass = 'rank-badge';
                                        badgeText = 'ğŸ¥‡';
                                    } else if (index === 1 && stats.total > 0) {
                                        badgeClass = 'rank-badge-silver';
                                        badgeText = 'ğŸ¥ˆ';
                                    } else if (index === 2 && stats.total > 0) {
                                        badgeClass = 'rank-badge-bronze';
                                        badgeText = 'ğŸ¥‰';
                                    }
                                    
                                    return (
                                        <div 
                                            key={tool}
                                            className="rank-item bg-gradient-to-br from-gray-800/70 to-gray-900/70 backdrop-blur-lg rounded-3xl p-6 border border-gray-700 hover:border-purple-500 shadow-xl"
                                            style={{
                                                animation: `slideUp ${0.3 + index * 0.05}s ease-out`
                                            }}
                                        >
                                            <div className="flex items-center justify-between mb-4">
                                                <div className="flex items-center gap-4">
                                                    {badgeClass && (
                                                        <div className={`${badgeClass} text-white px-4 py-2 rounded-full font-bold text-xl`}>
                                                            {badgeText}
                                                        </div>
                                                    )}
                                                    <div className="text-3xl font-bold text-gray-400">
                                                        #{index + 1}
                                                    </div>
                                                    <h3 className="text-4xl font-bold text-white">{tool}</h3>
                                                </div>
                                                {stats.total > 0 && (
                                                    <div className="bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-full text-xl font-bold shadow-lg count-up">
                                                        {stats.total} ç¥¨
                                                    </div>
                                                )}
                                            </div>
                                            
                                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                {Object.entries(VOTE_TYPES).map(([type, config]) => {
                                                    const count = stats[type];
                                                    const percentage = maxVotes > 0 ? (count / maxVotes * 100) : 0;
                                                    
                                                    return (
                                                        <div 
                                                            key={type}
                                                            ref={el => statsRefs.current[`${tool}-${type}`] = el}
                                                            className={`${config.lightColor} rounded-2xl p-4 border border-gray-600`}
                                                        >
                                                            <div className="flex items-center justify-between mb-3">
                                                                <span className={`text-lg font-bold ${config.textColor} flex items-center gap-2`}>
                                                                    <span className="text-2xl">{config.icon}</span>
                                                                    {config.label}
                                                                </span>
                                                                <span className="text-white text-2xl font-bold count-up">{count}</span>
                                                            </div>
                                                            <div className="h-3 bg-gray-700 rounded-full overflow-hidden">
                                                                <div 
                                                                    className={`progress-bar h-full ${config.bgColor} rounded-full shadow-lg`}
                                                                    style={{ 
                                                                        width: `${percentage}%`,
                                                                        boxShadow: `0 0 10px ${config.color}`
                                                                    }}
                                                                ></div>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}

                        {/* æŠ•ç¥¨æ¨¡å¼ */}
                        {mode === 'vote' && (
                            <div>
                                {/* æˆ‘çš„æŠ•ç¥¨çŠ¶æ€ */}
                                <div className="bg-gradient-to-br from-gray-800/70 to-gray-900/70 backdrop-blur-lg rounded-3xl p-8 mb-8 border-2 border-purple-500 shadow-2xl" style={{animation: 'slideUp 0.4s ease-out'}}>
                                    <h3 className="text-3xl font-bold text-white mb-6 flex items-center gap-3">
                                        <span className="text-4xl">ğŸ“</span>
                                        æˆ‘çš„æŠ•ç¥¨
                                    </h3>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                        {Object.entries(VOTE_TYPES).map(([type, config]) => {
                                            const voted = type === 'frequent' 
                                                ? myVotes.frequent.length > 0
                                                : myVotes[type] !== null;
                                            
                                            return (
                                                <div key={type} className={`${config.lightColor} rounded-2xl p-6 border-2 ${voted ? 'border-white' : 'border-gray-600'} transition-all`}>
                                                    <div className={`text-xl font-bold mb-3 ${config.textColor} flex items-center gap-2`}>
                                                        <span className="text-3xl">{config.icon}</span>
                                                        {config.label}
                                                    </div>
                                                    <div className="text-white text-lg font-medium">
                                                        {type === 'frequent' 
                                                            ? (myVotes.frequent.length > 0 ? myVotes.frequent.join('ã€') : 'æœªæŠ•ç¥¨')
                                                            : (myVotes[type] || 'æœªæŠ•ç¥¨')
                                                        }
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                {/* æŠ•ç¥¨å¡ç‰‡ç½‘æ ¼ */}
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {LLM_TOOLS.map((tool, index) => (
                                        <div 
                                            key={tool}
                                            className="vote-card bg-gradient-to-br from-gray-800/70 to-gray-900/70 backdrop-blur-lg rounded-3xl p-6 border border-gray-700 shadow-xl"
                                            style={{animation: `slideUp ${0.5 + index * 0.05}s ease-out`}}
                                        >
                                            <h3 className="text-3xl font-bold text-white mb-6 text-center">{tool}</h3>
                                            <div className="flex flex-col gap-3">
                                                {Object.entries(VOTE_TYPES).map(([type, config]) => {
                                                    const isSelected = config.multiple 
                                                        ? myVotes.frequent.includes(tool)
                                                        : myVotes[type] === tool;
                                                    const isDisabled = !config.multiple && myVotes[type] !== null && !isSelected;
                                                    
                                                    return (
                                                        <button
                                                            key={type}
                                                            onClick={(e) => !isDisabled && handleVote(tool, type, e)}
                                                            disabled={isDisabled}
                                                            className={`
                                                                px-6 py-4 rounded-xl font-bold text-lg transition-all transform
                                                                ${isSelected
                                                                    ? `${config.bgColor} text-white ring-4 ring-white shadow-2xl scale-105`
                                                                    : isDisabled
                                                                    ? 'bg-gray-700 text-gray-500 cursor-not-allowed opacity-50'
                                                                    : `${config.bgColor} ${config.hoverColor} text-white shadow-lg hover:scale-105 hover:shadow-2xl active:scale-95`
                                                                }
                                                            `}
                                                            style={isSelected ? {boxShadow: `0 0 30px ${config.color}`} : {}}
                                                        >
                                                            <span className="text-2xl mr-2">{config.icon}</span>
                                                            {config.label}
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* æŠ•ç¥¨æç¤º */}
                                <div className="mt-12 text-center">
                                    <div className="bg-gradient-to-r from-green-900/50 to-green-800/50 border-2 border-green-400 rounded-2xl p-6 inline-block backdrop-blur-lg">
                                        <p className="text-green-200 text-lg font-medium">
                                            âœ… æŠ•ç¥¨è‡ªåŠ¨ä¿å­˜ Â· æŠ•å®Œå³å¯å…³é—­ Â· å¤§å±å¹•å®æ—¶æ›´æ–°
                                        </p>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<LLMVotingApp />, document.getElementById('root'));
    </script>
</body>
</html>
